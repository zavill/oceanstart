{% extends 'base.html.twig' %}

{% block body %}
    <div id="sort-block">
        <p>Сортировка:</p>
        <select>
            <option>По авторам</option>
            <option>По названию</option>
            <option>По описанию</option>
            <option>По дате публикации</option>
        </select>
    </div>
    <div class="flex-container flex-row">
    <div id="filter-block">
        <h2>Фильтр</h2>
        <div class="filter-item">
            <p>Автор</p>
            <select>
                {% for author in authors %}
                    <option>{{ author.name }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="filter-item">
            <p>Соавтор</p>
            <select multiple>
                {% for author in authors %}
                    <option>{{ author.name }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="filter-item">
            <p>Название</p>
            <input type="text">
        </div>
        <div class="filter-item">
            <p>Краткое описание</p>
            <input type="text">
        </div>
        <div class="filter-item">
            <p>Дата публикации (дд.мм.гггг)</p>
            <input type="text">
        </div>
        <button class="filter-button">Поиск</button>
    </div>
    <div id="result-block">
        <ol>
            {% for book in books %}
                <li>{{ book.name }}. {{ book.author.name }}.
                    {% if book.coauthor %}
                        {% for coauthor in book.coauthor %}
                            {{ coauthor.name }}{{ loop.last ? '.' : ',' }}
                        {% endfor %}
                    {% endif %}
                    {{ book.publishDate|date('d.m.Y') }}.
                </li>
            {% endfor %}
        </ol>
    </div>
{% endblock %}